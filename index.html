<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>BarCamp 2017 | CSS at scale | by Michal Weiser @michal_weiser</title>

    <meta name="description" content="Presentation for BarCamp 2017" />
    <meta name="author" content="Michal Weiser" />

    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />

    <link href="css/impress-demo.css" rel="stylesheet" />
    <link href="css/prism.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />

    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <script src="raphael.min.js"></script>
    <script src="js/prism.js"></script>
    <script src="https://threejs.org/build/three.min.js"></script>
    <script src="https://threejs.org/examples/js/libs/tween.min.js"></script>
    <script src="https://threejs.org/examples/js/controls/TrackballControls.js"></script>
    <script src="https://threejs.org/examples/js/renderers/CSS3DRenderer.js"></script>
    <script>
      window.invert = function invert() {
          // the css we are going to inject
          var css = 'html {-webkit-filter: invert(100%);' +
            '-moz-filter: invert(100%);' +
            '-o-filter: invert(100%);' +
            '-ms-filter: invert(100%); }',

            head = document.getElementsByTagName('head')[0],
            style = document.createElement('style');

          // a hack, so you can "invert back" clicking the bookmarklet again
          if (!window.counter) { window.counter = 1; } else {
          window.counter++;
            if (window.counter % 2 == 0) { var css = 'html {-webkit-filter: invert(0%); -moz-filter:    invert(0%); -o-filter: invert(0%); -ms-filter: invert(0%); }' }
          };

          style.type = 'text/css';
          if (style.styleSheet) {
            style.styleSheet.cssText = css;
          } else {
            style.appendChild(document.createTextNode(css));
          }

          //injecting the css to the head
          document.body.style.backgroundColor = "white";
          head.appendChild(style);
      }
    </script>
</head>
<body class="impress-not-supported">
<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>
<div id="impress">
    <div id="hello" class="step hello" data-x="-1100" data-y="-1500">
      <a href="http://www.barcampbrno.cz/" title="BarCamp Brno" target="_blank"><img alt="BarCamp Brno" src="img/barcamp.png" class="badge"></a>
      <h3>Ahoj!</h3>
    </div>
    <div id="link" class="step link" data-x="-1100" data-y="-2000">
      <a href="http://tiny.cc/css-at-scale">tiny.cc/css-at-scale</a>
    </div>
    <div id="hi" class="step hi" data-x="400" data-y="-1500">
        <a href="https://www.linkedin.com/in/michalweiser/" title="Michał Weiser" target="_blank"><img alt="Michał Weiser" src="img/me.png" class="badge big"></a>
        <h3>Michał <b>Weiser</b></h3>
        <nav class="twitter">
          <a href="https://twitter.com/michal_weiser">@michal_weiser</a><br>
          <a href="https://www.linkedin.com/in/michalweiser/"><small class="position">Interaction Design Engineer <br>NetSuite | Oracle</small></a>
        </nav>
    </div>

    <div id="periodic" class="step" data-x="1000" data-y="-2500" style="width: 1500px; height: 800px;">
      <div id="container"></div>
      <div id="menu">
        <button id="table">TABLE</button>
        <button id="sphere">SPHERE</button>
        <button id="helix">HELIX</button>
        <button id="grid">GRID</button>
      </div>
    </div>

    <div id="timeline" class="cssawe step" data-x="3000" data-y="-1500" scale="4">
      <img src="img/cssawe.png" alt="CSS Awesome" class="awesome">
    </div>

    <div id="interval" class="step list" data-x="4000" data-y="-1520" data-z="20" scale="2">
      <img src="img/person.png" alt="person">
      <h1>&lang;0,1&rang;</h1>
    </div>

    <div id="needs" class="step list" data-x="5500" data-y="-1520" data-z="20" scale="2">
      <ul class="needs">
        <li>škálovatelnost</li>
        <li>unifikace</li>
        <li>responsivita</li>
        <li>progressive enhancement</li>
        <li>barevná schémata</li>
        <li>vizuální témata</li>
        <li>mutace podle jazyků</li>
        <li>jenoduchá správa</li>
        <li>jednoduché sdílení</li>
        <li>cross-browser</li>
      </ul>
    </div>

     <div id="designsystem" class="step list" data-x="5500" data-y="-800"> 
       <h1>Design System</h1>
       <img src="img/designsystem.svg" alt="Design System">
       <br>
       <small>hurá proti entropii</small>
     </div>

    <div id="styleguide" class="step list" data-x="5500" data-y="0">
      <h1>Style Guide</h1>
      <img src="img/styleguide.jpg" alt="Design System">
    </div>

    <div id="important" class="step" data-x="7200" data-y="-400" style="width: 300px;">
      !important
      <pre><code class="language-css">.my p.blue { color: red; }

...

p.blue { color: blue; }</code></pre>
<pre><code class="language-html">
<xmp><div class="my">
  <p class="blue">text</p>
</div></xmp>
</code></pre>
    </div>

    <div id="shame" class="step list" data-x="8200" data-y="-400"style="width: 300px;">
      shame.css
      <pre><code class="language-css">
      p.blue.blue.blue {
        color: blue;
      }</code>
      </pre>
    </div>

    <div id="optimize" class="step list" data-x="9200" data-y="-400" style="width: 400px;">
      optimalizace
      <pre><code class="language-bash">
       grep -r font-size *.css | wc -l
       grep -r h[1-6] *.css | wc -l</code>

       #id -> ne
       div -> ne
       .bar -> ano
      </pre>
    </div>

    <div id="science" class="step list" data-x="9400" data-y="500">
      <img src="img/computerscience.jpg" alt="Computer Science">
    </div>

    <div id="problems" class="step list problems" data-x="9400" data-y="500" data-z="-20">
      pojmenování věcí
      <br>
      vertikální zarovnání
    </div>

    <div id="bem" class="step list" data-x="10200" data-y="-400" style="width: 800px;">
      BEM
      <br>
      <a href="https://tech.yandex.com/bem/" title="BEM" target="_blank"><img alt="BEM" src="img/bem.png" class="badge big"></a>
      <pre><code class="language-css">
       .ds-button {}
       .ds-button__icon {}
       .ds-button--primary {}
       .ds-button--disabled {}</code>
      </pre>
      <pre><code class="language-html">
      <xmp>
        <button class="ds-button ds-button--primary ds-button--disabled">
          <img class="ds-button__icon" src="btn.png" alt="btn">
        </button>
      </xmp></code>
      </pre>
    </div>

    <div id="smacss" class="step list" data-x="12200" data-y="-400" style="width: 250px;">
      SMACSS
      <br>
      <a href="https://smacss.com/" title="SMACSS" target="_blank"><img alt="SMACSS" src="img/snook.png" class="badge big"></a>
      <pre><code class="language-css">
       Base Rules
       Layout Rules
       Module Rules
       State Rules
       Theme Rules</code>
      </pre>
    </div>

    <div id="styleprocessors" class="step list" data-x="13200" data-y="-400" style="width: 330px;">
      nástroje
      <br>
      <a href="http://stylus-lang.com/" title="Stylus" target="_blank"><img alt="Stylus" src="img/stylus.png" class="badge"></a>
      <a href="http://sass-lang.com/" title="Sass" target="_blank"><img alt="Sass" src="img/sass.svg" class="badge"></a>
      <br>
      <a href="https://github.com/postcss/postcss" title="PostCSS" target="_blank"><img alt="PostCSS" src="img/postcss.svg" class="badge"></a>
      <a href="https://github.com/postcss/autoprefixer" title="AutoPrefixer" target="_blank"><img alt="AutoPrefixer" src="img/autoprefixer.png" class="badge"></a>
    </div>

    <div id="tokens1" class="step list" data-x="17200" data-y="-400" style="width: 400px;">
      design tokeny
      <h5>color palette</h5>
      <pre><code class="language-scss">
       $ds-color__yellow--100: #FC30F;
       $ds-color__orange--100: #FF5733;
       $ds-color__red--100:    #C70039;
</code>
</pre>
<h5>fonts</h5>
<pre><code class="language-scss">
       $ds-font--small:   12px;
       $ds-font--default: 14px;
       $ds-font--big:     16px;
       </code>
      </pre>
    </div>

    <div id="tokens2" class="step list" data-x="18200" data-y="-400" style="width: 600px;">
      design tokeny
      <h5>sizes</h5>
      <pre><code class="language-scss">
       $ds-size--s: 8px;
       $ds-size--m: 16px;
       $ds-size--l: 24px;
</code>
</pre>
      <h5>sizing</h5>
      <pre><code class="language-scss">
       $ds-sizing__innset--small: $ds-size--m $ds-size--s;
       $ds-sizing__innset--medium: $ds-size--l $ds-size--m;
       </code>
      </pre>
    </div>

    <div id="tokens3" class="step list" data-x="20200" data-y="-400" style="width: 800px;">
      <h5>button base</h5>
      <pre><code class="language-scss">
       .ds-button {
         display: flex;
       }
</code></pre>
      <h5>button Theme</h5>
      <pre><code class="language-scss">
       $button-border-style: solid;

       .ds-button {
         padding: flex;
         border-width: $ds-size--s;
         border-style: $button-border-style;
       }
</code>
</pre>
      <h5>button colorset</h5>
      <pre><code class="language-scss">
       $button--primary-color-background: $ds-color__yellow--100;
       $button--primary-color-border: $ds-color__orange--100;

       .ds-button--primary {
          background-color: $button--primary-color-background;
          border-color: $button--primary-color-border;
       }
       </code>
      </pre>
    </div>

    <div id="result" class="step list" data-x="22200" data-y="-400">
      <ul>
        <li>aktuální</li>
        <li>rozšířitelný</li>
        <li>přehledný</li>
      </ul>
    </div>

    <div id="thankyou" class="step thankyou" data-x="24400" data-y="-400">
      <h1>DÍKY</h1>
    </div>
</div>
<script src="js/impress.js"></script>
<script>impress().init();</script>
</body>
<script>
document.addEventListener("keydown", function(e) {
  if (e.keyCode === 13) {
    toggleFullScreen();
  }
}, false);

document.addEventListener('impress:stepenter', function(e){
  if (e.target.getAttribute('id') === 'technologies') {
    [].forEach.call(
      document.querySelectorAll('.step.list'),
      function (step) {
        step.classList.add('highlight');
      }
    );
  }

  if (e.target.getAttribute('id') === 'webdevelopment') {
    window.setTimeout(function () {
      document.getElementById('angry').setAttribute('src', 'img/angry.gif');
    }, 1500);
  }
});

document.addEventListener('impress:stepleave', function(e){
  if (e.target.getAttribute('id') === 'technologies') {
    [].forEach.call(
      document.querySelectorAll('.step.list.highlight'),
      function (step) {
        step.classList.remove('highlight');
      }
    );
  }

  if (e.target.getAttribute('id') === 'webdevelopment') {
    document.getElementById('angry').setAttribute('src', '');
  }
});

function toggleFullScreen() {
  if (!document.fullscreenElement &&    // alternative standard method
      !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {  // current working methods
    if (document.documentElement.requestFullscreen) {
      document.documentElement.requestFullscreen();
    } else if (document.documentElement.msRequestFullscreen) {
      document.documentElement.msRequestFullscreen();
    } else if (document.documentElement.mozRequestFullScreen) {
      document.documentElement.mozRequestFullScreen();
    } else if (document.documentElement.webkitRequestFullscreen) {
      document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
    }
  } else {
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.msExitFullscreen) {
      document.msExitFullscreen();
    } else if (document.mozCancelFullScreen) {
      document.mozCancelFullScreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    }
  }
}
</script>
<script>

  var table = [
    "H", "Hydrogen", "1.00794", 1, 1,
    "He", "Helium", "4.002602", 18, 1,
    "Li", "Lithium", "6.941", 1, 2,
    "Be", "Beryllium", "9.012182", 2, 2,
    "B", "Boron", "10.811", 13, 2,
    "C", "Carbon", "12.0107", 14, 2,
    "N", "Nitrogen", "14.0067", 15, 2,
    "O", "Oxygen", "15.9994", 16, 2,
    "F", "Fluorine", "18.9984032", 17, 2,
    "Ne", "Neon", "20.1797", 18, 2,
    "Na", "Sodium", "22.98976...", 1, 3,
    "Mg", "Magnesium", "24.305", 2, 3,
    "Al", "Aluminium", "26.9815386", 13, 3,
    "Si", "Silicon", "28.0855", 14, 3,
    "P", "Phosphorus", "30.973762", 15, 3,
    "S", "Sulfur", "32.065", 16, 3,
    "Cl", "Chlorine", "35.453", 17, 3,
    "Ar", "Argon", "39.948", 18, 3,
    "K", "Potassium", "39.948", 1, 4,
    "Ca", "Calcium", "40.078", 2, 4,
    "Sc", "Scandium", "44.955912", 3, 4,
    "Ti", "Titanium", "47.867", 4, 4,
    "V", "Vanadium", "50.9415", 5, 4,
    "Cr", "Chromium", "51.9961", 6, 4,
    "Mn", "Manganese", "54.938045", 7, 4,
    "Fe", "Iron", "55.845", 8, 4,
    "Co", "Cobalt", "58.933195", 9, 4,
    "Ni", "Nickel", "58.6934", 10, 4,
    "Cu", "Copper", "63.546", 11, 4,
    "Zn", "Zinc", "65.38", 12, 4,
    "Ga", "Gallium", "69.723", 13, 4,
    "Ge", "Germanium", "72.63", 14, 4,
    "As", "Arsenic", "74.9216", 15, 4,
    "Se", "Selenium", "78.96", 16, 4,
    "Br", "Bromine", "79.904", 17, 4,
    "Kr", "Krypton", "83.798", 18, 4,
    "Rb", "Rubidium", "85.4678", 1, 5,
    "Sr", "Strontium", "87.62", 2, 5,
    "Y", "Yttrium", "88.90585", 3, 5,
    "Zr", "Zirconium", "91.224", 4, 5,
    "Nb", "Niobium", "92.90628", 5, 5,
    "Mo", "Molybdenum", "95.96", 6, 5,
    "Tc", "Technetium", "(98)", 7, 5,
    "Ru", "Ruthenium", "101.07", 8, 5,
    "Rh", "Rhodium", "102.9055", 9, 5,
    "Pd", "Palladium", "106.42", 10, 5,
    "Ag", "Silver", "107.8682", 11, 5,
    "Cd", "Cadmium", "112.411", 12, 5,
    "In", "Indium", "114.818", 13, 5,
    "Sn", "Tin", "118.71", 14, 5,
    "Sb", "Antimony", "121.76", 15, 5,
    "Te", "Tellurium", "127.6", 16, 5,
    "I", "Iodine", "126.90447", 17, 5,
    "Xe", "Xenon", "131.293", 18, 5,
    "Cs", "Caesium", "132.9054", 1, 6,
    "Ba", "Barium", "132.9054", 2, 6,
    "La", "Lanthanum", "138.90547", 4, 9,
    "Ce", "Cerium", "140.116", 5, 9,
    "Pr", "Praseodymium", "140.90765", 6, 9,
    "Nd", "Neodymium", "144.242", 7, 9,
    "Pm", "Promethium", "(145)", 8, 9,
    "Sm", "Samarium", "150.36", 9, 9,
    "Eu", "Europium", "151.964", 10, 9,
    "Gd", "Gadolinium", "157.25", 11, 9,
    "Tb", "Terbium", "158.92535", 12, 9,
    "Dy", "Dysprosium", "162.5", 13, 9,
    "Ho", "Holmium", "164.93032", 14, 9,
    "Er", "Erbium", "167.259", 15, 9,
    "Tm", "Thulium", "168.93421", 16, 9,
    "Yb", "Ytterbium", "173.054", 17, 9,
    "Lu", "Lutetium", "174.9668", 18, 9,
    "Hf", "Hafnium", "178.49", 4, 6,
    "Ta", "Tantalum", "180.94788", 5, 6,
    "W", "Tungsten", "183.84", 6, 6,
    "Re", "Rhenium", "186.207", 7, 6,
    "Os", "Osmium", "190.23", 8, 6,
    "Ir", "Iridium", "192.217", 9, 6,
    "Pt", "Platinum", "195.084", 10, 6,
    "Au", "Gold", "196.966569", 11, 6,
    "Hg", "Mercury", "200.59", 12, 6,
    "Tl", "Thallium", "204.3833", 13, 6,
    "Pb", "Lead", "207.2", 14, 6,
    "Bi", "Bismuth", "208.9804", 15, 6,
    "Po", "Polonium", "(209)", 16, 6,
    "At", "Astatine", "(210)", 17, 6,
    "Rn", "Radon", "(222)", 18, 6,
    "Fr", "Francium", "(223)", 1, 7,
    "Ra", "Radium", "(226)", 2, 7,
    "Ac", "Actinium", "(227)", 4, 10,
    "Th", "Thorium", "232.03806", 5, 10,
    "Pa", "Protactinium", "231.0588", 6, 10,
    "U", "Uranium", "238.02891", 7, 10,
    "Np", "Neptunium", "(237)", 8, 10,
    "Pu", "Plutonium", "(244)", 9, 10,
    "Am", "Americium", "(243)", 10, 10,
    "Cm", "Curium", "(247)", 11, 10,
    "Bk", "Berkelium", "(247)", 12, 10,
    "Cf", "Californium", "(251)", 13, 10,
    "Es", "Einstenium", "(252)", 14, 10,
    "Fm", "Fermium", "(257)", 15, 10,
    "Md", "Mendelevium", "(258)", 16, 10,
    "No", "Nobelium", "(259)", 17, 10,
    "Lr", "Lawrencium", "(262)", 18, 10,
    "Rf", "Rutherfordium", "(267)", 4, 7,
    "Db", "Dubnium", "(268)", 5, 7,
    "Sg", "Seaborgium", "(271)", 6, 7,
    "Bh", "Bohrium", "(272)", 7, 7,
    "Hs", "Hassium", "(270)", 8, 7,
    "Mt", "Meitnerium", "(276)", 9, 7,
    "Ds", "Darmstadium", "(281)", 10, 7,
    "Rg", "Roentgenium", "(280)", 11, 7,
    "Cn", "Copernicium", "(285)", 12, 7,
    "Uut", "Unutrium", "(284)", 13, 7,
    "Fl", "Flerovium", "(289)", 14, 7,
    "Uup", "Ununpentium", "(288)", 15, 7,
    "Lv", "Livermorium", "(293)", 16, 7,
    "Uus", "Ununseptium", "(294)", 17, 7,
    "Uuo", "Ununoctium", "(294)", 18, 7
  ];

  var camera, scene, renderer;
  var controls;

  var objects = [];
  var targets = { table: [], sphere: [], helix: [], grid: [] };

  init();
  animate();

  function init() {

    camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 10000);
    camera.position.z = 3000;

    scene = new THREE.Scene();

    // table

    for (var i = 0; i < table.length; i += 5) {

      var element = document.createElement('div');
      element.className = 'element';
      element.style.backgroundColor = 'rgba(0,127,127,' + (Math.random() * 0.5 + 0.25) + ')';

      var number = document.createElement('div');
      number.className = 'number';
      number.textContent = (i / 5) + 1;
      element.appendChild(number);

      var symbol = document.createElement('div');
      symbol.className = 'symbol';
      symbol.textContent = table[i];
      element.appendChild(symbol);

      var details = document.createElement('div');
      details.className = 'details';
      details.innerHTML = table[i + 1] + '<br>' + table[i + 2];
      element.appendChild(details);

      var object = new THREE.CSS3DObject(element);
      object.position.x = Math.random() * 4000 - 2000;
      object.position.y = Math.random() * 4000 - 2000;
      object.position.z = Math.random() * 4000 - 2000;
      scene.add(object);

      objects.push(object);

      //

      var object = new THREE.Object3D();
      object.position.x = (table[i + 3] * 140) - 1260;
      object.position.y = - (table[i + 4] * 180) + 990;

      targets.table.push(object);

    }

    // sphere

    var vector = new THREE.Vector3();

    for (var i = 0, l = objects.length; i < l; i++) {

      var phi = Math.acos(-1 + (2 * i) / l);
      var theta = Math.sqrt(l * Math.PI) * phi;

      var object = new THREE.Object3D();

      object.position.x = 800 * Math.cos(theta) * Math.sin(phi);
      object.position.y = 800 * Math.sin(theta) * Math.sin(phi);
      object.position.z = 800 * Math.cos(phi);

      vector.copy(object.position).multiplyScalar(2);

      object.lookAt(vector);

      targets.sphere.push(object);

    }

    // helix

    var vector = new THREE.Vector3();

    for (var i = 0, l = objects.length; i < l; i++) {

      var phi = i * 0.175 + Math.PI;

      var object = new THREE.Object3D();

      object.position.x = 900 * Math.sin(phi);
      object.position.y = - (i * 8) + 450;
      object.position.z = 900 * Math.cos(phi);

      vector.x = object.position.x * 2;
      vector.y = object.position.y;
      vector.z = object.position.z * 2;

      object.lookAt(vector);

      targets.helix.push(object);

    }

    // grid

    for (var i = 0; i < objects.length; i++) {

      var object = new THREE.Object3D();

      object.position.x = ((i % 5) * 400) - 800;
      object.position.y = (- (Math.floor(i / 5) % 5) * 400) + 800;
      object.position.z = (Math.floor(i / 25)) * 1000 - 2000;

      targets.grid.push(object);

    }

    //

    renderer = new THREE.CSS3DRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.domElement.style.position = 'absolute';
    document.getElementById('container').appendChild(renderer.domElement);

    //

    controls = new THREE.TrackballControls(camera, renderer.domElement);
    controls.rotateSpeed = 0.5;
    controls.minDistance = 500;
    controls.maxDistance = 6000;
    controls.addEventListener('change', render);

    var button = document.getElementById('table');
    button.addEventListener('click', function (event) {

      transform(targets.table, 2000);

    }, false);

    var button = document.getElementById('sphere');
    button.addEventListener('click', function (event) {

      transform(targets.sphere, 2000);

    }, false);

    var button = document.getElementById('helix');
    button.addEventListener('click', function (event) {

      transform(targets.helix, 2000);

    }, false);

    var button = document.getElementById('grid');
    button.addEventListener('click', function (event) {

      transform(targets.grid, 2000);

    }, false);

    transform(targets.grid, 2000);

    //

    window.addEventListener('resize', onWindowResize, false);

  }

  function transform(targets, duration) {

    TWEEN.removeAll();

    for (var i = 0; i < objects.length; i++) {

      var object = objects[i];
      var target = targets[i];

      new TWEEN.Tween(object.position)
        .to({ x: target.position.x, y: target.position.y, z: target.position.z }, Math.random() * duration + duration)
        .easing(TWEEN.Easing.Exponential.InOut)
        .start();

      new TWEEN.Tween(object.rotation)
        .to({ x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration)
        .easing(TWEEN.Easing.Exponential.InOut)
        .start();

    }

    new TWEEN.Tween(this)
      .to({}, duration * 2)
      .onUpdate(render)
      .start();

  }

  function onWindowResize() {

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();

    renderer.setSize(window.innerWidth, window.innerHeight);

    render();

  }

  function animate() {

    requestAnimationFrame(animate);

    TWEEN.update();

    controls.update();

  }

  function render() {

    renderer.render(scene, camera);

  }
</script>
</html>
